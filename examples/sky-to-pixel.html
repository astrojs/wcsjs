<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <title>wcsjs: sky to pixel</title>
    <script src="/wcs.js" type="text/javascript"></script>
    
    <script type="text/javascript">
    (function() {
      
      function onDOM() {
        
        // Load a FITS header
        var xhr = new XMLHttpRequest();
        xhr.open('GET', '/test/data/1904-66_TAN');
        xhr.responseType = 'text';
        xhr.onload = function() {
          var w = new wcs();
          w.init(xhr.response);
          var pixcrd = w.sky2pix(270.120344, -72.676808);
          
          console.log(Math.round(pixcrd[0]) === 0);
          console.log(Math.round(pixcrd[1]) === 0);
          
          console.log(pixcrd);
        };
        xhr.send();
        
      };
      
      window.addEventListener('DOMContentLoaded', onDOM, false);
    })();
    </script>
  </head>
  
  <body>
    <div class="main">
      <h4>wcsjs: sky to pixel</h4>
    </div>
    
  </body>
</html>
